# 5.3 Nuwa：为什么能创建角色

> 问题比身份重要，目的比工具重要，过程比结果重要

上一节，我们理解了**语义鸿沟**——AI 不知道但角色必须知道的信息。Nuwa（女娲）是 PromptX 中专门用来填补"身份相关语义鸿沟"的角色创建专家。

但 Nuwa 不只是一个"角色生成器"。她的设计蕴含了深刻的哲学思考：

- 为什么不直接让用户填写表单？
- 为什么要通过对话来探索需求？
- 角色的本质是什么？

---

## 第一性原理：从问题出发

### 传统的角色创建方式

大多数 AI 角色创建工具是这样的：

```yaml
# 传统方式：填表式
role:
  name: "Python 开发专家"
  skills:
    - Python
    - Django
    - FastAPI
  personality: "专业、严谨"
```

这种方式的问题：
- **预设了身份**：用户必须先知道自己需要什么角色
- **预设了工具**：用户必须从固定选项中选择技能
- **跳过了问题**：没有探索用户真正想解决什么

### Nuwa 的第一性原理

Nuwa 的核心理念是**第一性原理**（First Principles）：

> **问题比身份重要**
> **目的比工具重要**
> **过程比结果重要**

这意味着：
- 不要问"你想创建什么角色"，而是问"你想解决什么问题"
- 不要问"你需要什么技能"，而是问"你想达成什么目的"
- 不要急于给出角色配置，而是通过对话深入理解需求

### 对比：填表式 vs 对话式

**填表式**：

```
系统：请填写角色配置
- 角色名称：[        ]
- 技能列表：[        ]
- 性格特点：[        ]

用户：(内心：我也不知道该填什么...)
```

**对话式（Nuwa）**：

```
用户：我需要一个 AI 助手帮我写代码

Nuwa：好的，让我理解一下你的需求。

1. 你说"写代码"，是指从头写新功能，还是维护现有代码？
2. 你们主要用什么语言和框架？
3. 代码写完后，是你自己 review，还是需要 AI 也帮你检查？
4. 有没有什么特别的编码规范需要遵守？

这些问题会帮助我为你设计一个真正有用的角色，而不是一个"通用开发助手"。
```

---

## 对话式共创：ISSUE 范式

Nuwa 使用 **ISSUE 范式**来探索用户的真实需求。

### 什么是 ISSUE 范式

ISSUE 是一种结构化的问题探索方法：

| 阶段 | 含义 | 问题示例 |
|-----|------|---------|
| **I**dentify | 识别问题 | "你想解决什么问题？" |
| **S**cope | 界定范围 | "这个问题的边界在哪里？" |
| **S**takeholders | 确定干系人 | "谁会使用这个角色？" |
| **U**nderstand | 深入理解 | "为什么现有方案不够用？" |
| **E**xplore | 探索方案 | "有哪些可能的解决方向？" |

### ISSUE 范式实战

假设用户说："我需要一个帮我写营销文案的 AI"

**Identify（识别问题）**：
```
Nuwa：你说"写营销文案"，具体是指：
- A) 产品介绍和卖点提炼
- B) 社交媒体短文案
- C) 长文章（如公众号推文）
- D) 广告投放素材
还是以上都有？
```

**Scope（界定范围）**：
```
Nuwa：了解了，主要是社交媒体短文案。那么：
- 主要发布在哪些平台？（微博/小红书/抖音...）
- 每天大概需要写多少条？
- 有没有现成的品牌调性文档可以参考？
```

**Stakeholders（确定干系人）**：
```
Nuwa：这个角色是你个人用，还是整个市场团队共用？
- 如果是团队用，需要考虑统一的审核标准
- 如果是个人用，可以更贴合你的写作习惯
```

**Understand（深入理解）**：
```
Nuwa：你之前用过其他 AI 写文案吗？
- 如果用过，哪里让你不满意？
- 有没有写得特别好的文案例子，可以让我学习风格？
```

**Explore（探索方案）**：
```
Nuwa：基于以上了解，我可以为你设计几种不同风格的角色：
1. "小红书种草达人"——熟悉小红书的标题党技巧和emoji用法
2. "微博段子手"——擅长追热点和玩梗
3. "专业文案编辑"——注重品牌调性和信息准确性

你倾向于哪个方向？还是想要结合几种？
```

---

## 角色的三层架构

通过 ISSUE 范式收集完需求后，Nuwa 会用**三层架构**来组织角色：

```
┌─────────────────────────────────────────────────────────────┐
│                     思维层（Thought）                        │
│                                                             │
│   角色如何思考问题：                                          │
│   • 分析框架：使用什么方法论                                  │
│   • 决策逻辑：如何权衡取舍                                    │
│   • 认知边界：承认不知道什么                                  │
│                                                             │
│   示例：                                                     │
│   - 写文案时先分析目标受众，再确定情感诉求                     │
│   - 不确定的数据不编造，而是建议用户核实                       │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                     执行层（Execution）                       │
│                                                             │
│   角色如何执行任务：                                          │
│   • 行为准则：做什么、不做什么                                 │
│   • 输出格式：交付物的标准                                    │
│   • 协作方式：与用户如何配合                                  │
│                                                             │
│   示例：                                                     │
│   - 文案不超过 140 字（微博限制）                             │
│   - 每条文案配 3 个备选标题                                   │
│   - 用户修改意见优先于自己的判断                              │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                     知识层（Knowledge）                       │
│                                                             │
│   角色需要知道什么：                                          │
│   • 领域知识：专业技能和经验                                  │
│   • 私有上下文：用户特定的信息（语义鸿沟）                     │
│   • 参考资料：可查阅的知识库                                  │
│                                                             │
│   示例：                                                     │
│   - 小红书平台的内容规范和推荐算法特点                         │
│   - 用户的品牌调性文档                                        │
│   - 过往高绩效文案的案例库                                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 为什么是三层而不是一层？

传统的角色定义把所有信息混在一起：

```yaml
# ❌ 混乱的角色定义
role: |
  你是一个小红书文案专家，
  要用emoji，
  标题要吸引人，
  知道小红书的推荐算法，
  用户偏好真实风格，
  不要太官方...
```

三层架构的优势：

| 层次 | 职责 | 变化频率 |
|-----|------|---------|
| 思维层 | 定义"如何思考" | 最稳定 |
| 执行层 | 定义"如何行动" | 偶尔调整 |
| 知识层 | 定义"知道什么" | 经常更新 |

**分层的好处**：
- **关注点分离**：修改知识不影响思维方式
- **复用性**：思维层可以跨角色复用
- **可维护性**：每层独立管理，版本清晰

---

## 角色四维度：身份、能力、原则、个性

三层架构定义了角色的**结构**，四维度定义了角色的**内容**。

### 维度一：身份（Identity）

**回答**：我是谁？

```yaml
identity:
  name: "小红书文案达人"
  description: "专注小红书平台的种草文案创作"

  # 身份边界——同样重要
  boundaries:
    - "不涉及虚假宣传"
    - "不触碰平台红线"
    - "不编造用户评价"
```

**最佳实践**：
- 身份要**具体**，不要"文案专家"，而是"小红书种草文案达人"
- 身份要**有边界**，明确不做什么

### 维度二：能力（Capabilities）

**回答**：我擅长什么？

```yaml
capabilities:
  core:
    - "小红书标题党技巧"
    - "种草文案的情感诉求设计"
    - "emoji 和符号的恰当使用"

  extended:
    - "竞品文案分析"
    - "热点借势"

  limitations:
    - "不擅长长视频脚本"
    - "不擅长 B2B 文案"
```

**最佳实践**：
- 能力要**可验证**，不要"写得好"，而是"能写出打开率 5% 以上的标题"
- 要声明**局限性**，承认不擅长什么

### 维度三：原则（Principles）

**回答**：我遵循什么？

```yaml
principles:
  # 做什么
  do:
    - "真实优先：宁可平实，不要夸大"
    - "用户视角：从消费者角度出发"
    - "数据说话：用具体数字而非模糊描述"

  # 不做什么
  dont:
    - "不编造用户评价"
    - "不使用虚假促销信息"
    - "不抄袭他人文案"
```

**最佳实践**：
- 原则要**可执行**，不要"认真负责"，而是"每条文案检查三遍敏感词"
- 原则要有**正反两面**，既说做什么，也说不做什么

### 维度四：个性（Personality）

**回答**：我如何表达？

```yaml
personality:
  style: "活泼、亲近、带点小俏皮"

  tone:
    - "像闺蜜分享好物"
    - "不端着，不说教"

  signature:
    - "善用疑问句开头"
    - "结尾常有行动号召"

  avoid:
    - "官方通稿语气"
    - "过度营销感"
```

**最佳实践**：
- 个性要**有辨识度**，让用户一看就知道是这个角色写的
- 用**对比**来界定，比如"像闺蜜分享，不像销售推销"

---

## 单一真相源原则

Nuwa 在设计角色时遵循**单一真相源**（Single Source of Truth）原则：

> **每个概念只在一处定义，其他地方引用**

### 问题：概念重复定义

```yaml
# ❌ 概念分散在多处
role.yaml:
  principles: "使用真实细节"

knowledge.yaml:
  writing_style: "强调真实性"

memory.yaml:
  preference: "用户喜欢真实的表达"

# 问题：什么是"真实"？三处定义可能不一致
```

### 解决方案：引用而非重复

```yaml
# ✅ 单一真相源
# thought/authenticity.thought.md
<thought>
  ## 什么是"真实"

  ### 真实的定义
  - 具体的时间、地点、人物
  - 可验证的数据和事实
  - 个人真实的感受和体验

  ### 真实的对立面
  - 模糊的形容词（"很好"、"非常"）
  - 编造的场景和细节
  - 过度美化的表达
</thought>

# role.yaml（引用思维）
role:
  thought_references:
    - "@thought://authenticity"  # 引用真实性的定义

# knowledge.yaml（引用思维）
knowledge:
  foundation:
    - "@thought://authenticity"  # 同样引用，保持一致
```

### 引用语法

PromptX 使用 `@` 符号表示引用：

| 引用类型 | 语法 | 说明 |
|---------|------|------|
| 思维引用 | `@thought://xxx` | 引用思维方式 |
| 知识引用 | `@knowledge://xxx` | 引用知识库 |
| 角色引用 | `@role://xxx` | 继承其他角色 |
| 执行引用 | `@execution://xxx` | 引用行为定义 |

---

## Nuwa 创建角色的完整流程

现在，我们可以描绘 Nuwa 创建角色的完整流程：

```
┌─────────────────────────────────────────────────────────────┐
│                    Nuwa 角色创建流程                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   1. 用户描述需求                                            │
│      "我需要一个帮我写小红书文案的 AI"                        │
│            │                                                │
│            ▼                                                │
│   2. ISSUE 范式探索                                         │
│      • Identify：识别核心问题                               │
│      • Scope：界定工作范围                                  │
│      • Stakeholders：确定使用者                             │
│      • Understand：理解现状和痛点                           │
│      • Explore：探索解决方向                                │
│            │                                                │
│            ▼                                                │
│   3. 三层架构设计                                           │
│      • 思维层：如何分析和思考                               │
│      • 执行层：如何行动和输出                               │
│      • 知识层：需要知道什么                                 │
│            │                                                │
│            ▼                                                │
│   4. 四维度填充                                             │
│      • 身份：明确是谁、不是谁                               │
│      • 能力：擅长什么、不擅长什么                           │
│      • 原则：做什么、不做什么                               │
│      • 个性：如何表达、不如何表达                           │
│            │                                                │
│            ▼                                                │
│   5. 生成角色配置                                           │
│      输出 DPML/YAML 格式的角色定义                          │
│            │                                                │
│            ▼                                                │
│   6. 迭代优化                                               │
│      根据使用反馈持续调整                                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 实战：用 Nuwa 创建一个角色

让我们完整体验一次用 Nuwa 创建角色的过程。

### 需求

"我是一个独立开发者，需要一个 AI 帮我做技术选型决策"

### Nuwa 的探索对话

```
Nuwa：好的，让我理解一下你的需求。

**关于"技术选型"**：
1. 你主要做什么类型的项目？（Web/App/后端服务/...）
2. 技术选型的主要考虑因素是什么？（学习曲线/社区生态/性能/...）
3. 你是一个人开发，还是有团队？

用户：主要做 Web 全栈，我一个人开发，最看重开发效率和后期维护成本。

Nuwa：明白了。作为独立开发者，你需要的不是"最好的技术"，而是"最适合一个人维护的技术"。

**关于决策方式**：
1. 你喜欢快速给结论，还是详细分析利弊？
2. 遇到争议性选择（如 React vs Vue）时，你希望我给明确建议还是中立分析？
3. 你有没有踩过坑的经历，希望 AI 帮你避免？

用户：我希望给明确建议，不要模棱两可。踩过很多坑，比如选了小众框架后社区死了。

Nuwa：非常清晰。我会为你设计一个"独立开发者技术顾问"角色，核心原则是：
- **明确建议**：不模棱两可，给出理由
- **生态优先**：宁选大众，不选小众
- **维护友好**：一个人能长期维护

你觉得这个方向对吗？
```

### 生成的角色配置

```yaml
# .promptx/roles/indie-tech-advisor.yaml

identity:
  name: "独立开发者技术顾问"
  description: "专注于帮助独立开发者做技术选型决策，原则是'一个人能长期维护'"

  boundaries:
    - "不涉及大型团队架构设计"
    - "不推荐需要专门运维的方案"

capabilities:
  core:
    - "Web 全栈技术选型分析"
    - "框架/库的生态健康度评估"
    - "长期维护成本预估"

  extended:
    - "迁移成本评估"
    - "技术债务分析"

  limitations:
    - "不擅长移动端原生开发"
    - "不擅长大数据/AI 基础设施"

principles:
  do:
    - "给出明确建议，附带理由"
    - "优先考虑社区活跃度和生态成熟度"
    - "评估'5年后还能维护吗'"
    - "考虑学习曲线和上手成本"

  dont:
    - "不推荐小众或实验性技术"
    - "不为了'技术先进'牺牲可维护性"
    - "不给模棱两可的'各有优劣'式回答"

personality:
  style: "直接、务实、像有经验的朋友"

  tone:
    - "不端着，不说教"
    - "会说'我踩过这个坑'"

  signature:
    - "先给结论，再说理由"
    - "会主动提醒潜在风险"

thought_references:
  - "@thought://first-principles"  # 引用第一性原理思维
  - "@thought://indie-constraints"  # 独立开发者的约束思维

knowledge_sources:
  - path: "./knowledge/framework-ecosystem-analysis/"
    description: "主流框架生态分析"
  - path: "./knowledge/tech-debt-cases/"
    description: "技术债务案例库"
```

---

## 本节小结

### Nuwa 的设计哲学

| 原则 | 含义 |
|-----|------|
| 问题比身份重要 | 先理解问题，再设计角色 |
| 目的比工具重要 | 先明确目标，再选择技能 |
| 过程比结果重要 | 通过对话探索，而非填表生成 |

### ISSUE 范式

| 阶段 | 作用 |
|-----|------|
| Identify | 识别核心问题 |
| Scope | 界定工作范围 |
| Stakeholders | 确定使用者 |
| Understand | 深入理解痛点 |
| Explore | 探索解决方向 |

### 三层架构

| 层次 | 职责 |
|-----|------|
| 思维层 | 如何思考 |
| 执行层 | 如何行动 |
| 知识层 | 知道什么 |

### 四维度

| 维度 | 问题 |
|-----|------|
| 身份 | 我是谁 |
| 能力 | 我擅长什么 |
| 原则 | 我遵循什么 |
| 个性 | 我如何表达 |

---

下一节，我们将探讨 **Luban**——为什么说"AI 是用户，人类是指挥官"？工具的本质是什么？

---

[上一节：语义鸿沟](5.2-语义鸿沟.md) | [返回目录](README.md) | [下一节：Luban 工具创建](5.4-Luban工具创建.md)
